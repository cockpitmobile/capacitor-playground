<div style="display: flex; justify-content: space-between">
  <span>Is Connected: {{ isConnected$ | async }}</span>
  <div style="display: flex">
    @if (isSyncing$ | async) {
      <span>Syncing Changes</span>
      <p-progress-spinner diameter="5"></p-progress-spinner>
    }
  </div>
</div>
<div style="display: flex; flex-direction: column; align-items: center">
  <p-button (click)="start()" class="half-button"> Start Tracking </p-button>

  <p-button (click)="share()" class="half-button"> Test Share </p-button>

  <p-button class="half-button" (click)="requestLocalNotifications()">
    Request Local Notifications
  </p-button>

  <div style="width: 100%">
    <cockpit-activity-selector
      [featuredActivityTypes]="(featuredActivityTypes$ | async)!"
      [allActivityTypes]="
        (allActivityTypes$ | async)!
      "></cockpit-activity-selector>
  </div>

  @for (activity of activities$ | async; track activity.id) {
    <div style="margin-top: 8px">
      {{ activity | json }}
    </div>

    @if (activity.image) {
      <img
        [src]="activity.image"
        style="width: 100px; height: 100px; margin: 8px 0px" />
    }

    @if (!activity.image) {
      <p-button class="half-button" (click)="requestPhoto(activity.id)">
        Request Photo For Activity {{ activity.id }}
      </p-button>
    }
  }
</div>
